# 2025-01-31

## Kande VendTech - Operations Dashboard & Sales CRM

### Built & Deployed
1. **Operations Platform Dashboard** (vend.kandedash.com)
   - Overview of 10 core modules with strategies
   - 12 location types with placement tactics
   - 4-phase rollout timeline
   - Slot placement quick reference

2. **Full Sales CRM** (vend.kandedash.com/crm)
   - Add/edit prospects with full details
   - Log activities: calls, pop-ins, emails
   - Track contacts per property
   - Auto-mark hot leads based on outcomes
   - Mobile-friendly UI for field use
   - Filter by hot/active/needs action
   - Search prospects

### Deployment
- GitHub: `kinghon/kande-vendtech-dashboard`
- Railway: Auto-deploys on push
- Custom domain: vend.kandedash.com (CNAME → mh5x2sk9.up.railway.app)
- DNS managed in Cloudflare (kandedash.com)

### Data Import
- Imported 91 prospects from Google Sheet
- Sheet URL: https://docs.google.com/spreadsheets/d/1Lf1cU8N2H1TiRXh7n73r1bTUDJ1mGSkL-aNUoVNeHu8/
- Stats after import: 9 hot leads, 89 active, 2 closed

### Hot Leads (auto-detected)
- The Onyx Apartments - George (Community Manager) - very eager
- Jade Apartments - Brandon McClain (PM) - "please hook me up"
- The Aviator - Christina Salazar (PM) - they were just talking about vending
- Tanager Echo - Taylor (PM) - previous PM already looking into it

### Technical Notes
- Switched from SQLite (better-sqlite3) to JSON file storage
- SQLite had native build issues on Railway
- JSON file approach simpler and works fine for current scale

### Location Types Supported
1. Office Buildings
2. Gyms & Fitness
3. Schools & Universities
4. Hospitals & Healthcare
5. Hotels
6. Warehouses & Industrial
7. Senior Living Centers
8. Retail & Malls
9. Auto Dealerships
10. Banks & Financial
11. Entertainment Venues
12. Construction Sites

### Open Issue
- Kurtis reported "it doesn't work" after deployment
- API is confirmed working (returns all 91 prospects at /api/stats and /api/prospects)
- CRM page HTML serves correctly
- Likely a frontend JS issue — asked Kurtis for screenshot/details, awaiting response
- Need to debug what's failing on the client side (possibly JS error in crm.html)

## Kande VendTech Dashboard - Late Night Session (01:30-02:00)

### Fixes & Features Added:
- **Geocoding fixes**: 3 addresses were geocoding to wrong cities (El Paso, Bronx, England). Fixed by:
  - Forcing correct coords in cache for bad entries
  - Auto-appending "Las Vegas, NV" to ambiguous addresses
- **Delete prospects**: Added remove button with confirmation in CRM detail view
- **Geographic sorting**: Route planner list now sorted by proximity (nearest-neighbor chain algorithm). New prospects auto-slot next to their nearest neighbors.
- **Light theme**: Switched entire CRM and map from dark to light theme
- **Google Maps tiles**: Map now uses Google Maps default style instead of dark Carto tiles
- **Separated notes fields**: "Kurtis Notes" and "Sales Notes" now distinct fields with different colors in detail view

### Technical:
- Added `/api/reset` endpoint for clean re-imports
- Import script updated to preserve both note columns from original spreadsheet
- All 91 prospects re-imported with separate note fields

### Standing rule added to TOOLS.md:
- Always do heavy processing server-side (geocoding, data transforms, aggregations)
