# 2026-01-29

## Kande VendTech Product Catalog - Major Build Session

Built and deployed a product catalog dashboard for Kande VendTech at **products.kandevendtech.com**

### Key Features Implemented
- **Admin login system** - Password: `kande2026` (also via URL param `?admin=kande2026`)
- **Public vs Admin views**:
  - Public: product image, brand, name, size, estimated vending price, popularity rankings (top 30)
  - Admin: adds wholesale price, markup %, case info, brand/price filters
- **Category tabs**: All, Healthy, Snacks, Candy, Beverages, Meals, Refrigerated, Frozen
- **Meals tab**: filters by sandwich, wrap, salad, burger, sub, wedge, bowl keywords
- **Healthy tab**: detects by brand (Kind, Quest, Clif, Chobani, etc.) and keywords (protein, granola, yogurt, etc.)
- **Sort dropdown**: Popularity (default), Price Low/High, Name A-Z
- **Non-food filter**: Excludes stirrers, straws, utensils, filters, packets, etc.

### Technical Details
- GitHub repo: `kinghon/kande-vendtech-products`
- Hosted on GitHub Pages with custom domain
- ~1,875 products scraped from VendHub
- Products stored in `products.js` with fields: id, name, brand, size, casePrice, unitCount, unitPrice, imageUrl, category
- Vending price calculated with tiered markup (3.25x under $1, 2.75x $1-2, 2.5x $2-4, 2.25x over $4)

### Files Modified
- `/Users/kurtishon/clawd/kande-vendtech-catalog/dashboard/index.html`
- `/Users/kurtishon/clawd/kande-vendtech-catalog/dashboard/app.js`
- `/Users/kurtishon/clawd/kande-vendtech-catalog/dashboard/products.js`

### Kurtis Requests During Session
- Change margin to markup %
- Hide pricing for non-admin (except vending price)
- Add "Estimated Vending Price" label
- Increase logo size
- Hide product count for non-admin
- Add Meals category for sandwiches/wraps/salads/bowls
- Fix Healthy tab (was empty - added brand/keyword detection)
- Remove non-food items from catalog
- Show top 30 rankings in each tab
- Add sort dropdown to public view

## VendTech Catalog Work (afternoon)
- Built comprehensive chip pricing formula: `Price = 0.5×oz² - 0.25×oz + 1.25`
- Set specific prices: 12oz sodas $1.25, Celsius $4, Monster $4, Rockstar $3.50
- Added missing beverages: Celsius, Bang, BodyArmor, Starbucks, Rockstar
- Updated popularity rankings based on actual vending machine photo
- Fixed dashboard sort (was backwards - low to high instead of high to low)
- Catalog now at 3,315 products

## VendTech Catalog Dashboard - Evening Session

### Features Added
- **Top Picks system**: Admin can mark unlimited items as "Top" with ⭐ button
- **Popular Products category**: New first tab showing only Top Picks items
- Rankings only show in All Products & Popular views (star icon, not numbers)
- 5 columns layout (was 4)
- Non-admin view hides pricing for non-Top items

### Pricing Updates
- Chip formula: `Price = 0.5×oz² - 0.25×oz + 1.25` (1oz=$1.50, 1.5oz=$2, 2oz=$2.75)
- 12oz sodas: $1.25
- Celsius 12oz: $4
- Monster 16oz: $4
- Rockstar 16oz: $3.50
- Frito-Lay 1oz: $1.50
- Trolli 5oz: $3
- Sour Patch 2oz: $3

### Products Added (manually)
- Celsius (5 flavors) - no images yet
- Bang Energy (4 flavors) - no images yet
- BodyArmor (4 flavors) - no images yet
- Starbucks (4 varieties) - no images yet
- Rockstar (6 flavors) - no images yet

### Bug Fixes
- Fixed sort dropdown not working
- Fixed gateway disconnections (added `gateway.mode=local` to config)
- Fixed popularity sort (was backwards - low to high)
- Fixed `vendingPriceOverride` not being used in price calculations
- Fixed flickering thumbnails (empty URL check + onerror loop prevention)

### Categories
- Removed Frozen category tab
- Hidden tab works in admin mode
